<div class="row">
    <div ng-controller="FilterController" class="col-lg-4">
        <div class="filter-section">
            <h3>Filters</h3>
            <div ng-repeat="userForm in userForms" class="user-form">
                <p class="user-form-name" ng-click="userFormNameClicked(userForm.name); $event.stopPropagation()">
                    {{userForm.name}}</p>
                <div class="wrapper" ng-show="userForm.name == activeFormName">
                    <div ng-repeat="formField in fields track by $index">
                        <div ng-repeat="userField in userForm.fields track by $index" class="fields">
                            <div ng-if="formField.id == userField.fieldFk">
                                <div ng-switch="formField.relation">
                                    <div ng-switch-when="=">
                                        <p>{{formField.feName}} equals</p>
                                        <input type="text" ng-model="userField.value">
                                    </div>
                                    <div ng-switch-when=">=">
                                        <p>{{formField.feName}} greater than</p>
                                        <input type="text" ng-model="userField.value">
                                    </div>
                                    <div ng-switch-when=">">
                                        <p>{{formField.feName}} greater</p>
                                        <input type="text" ng-model="userField.value">
                                    </div>
                                    <div ng-switch-when="<=">
                                        <p>{{formField.feName}} less than</p>
                                        <input type="text" ng-model="userField.value">

                                    </div>
                                    <div ng-switch-when="<">
                                        <p>{{formField.feName}} less</p>
                                        <input type="text" ng-model="userField.value">
                                    </div>
                                    <div ng-switch-when="contains">
                                        <p>{{formField.feName}} contains ( comma separated values) </p>
                                        <input type="text" ng-model="userField.value">
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-primary btn-sm" ng-show="userForm.fields[0].id"
                            ng-click="editForm(userForm.name)">Edit and filter
                    </button>
                    <button type="button" class="btn btn-primary btn-sm" ng-show="!userForm.fields[0].id"
                            ng-click="saveForm(userForm.name)">Save and filter
                    </button>
                </div>
            </div>
            <form name="newFilterNameForm">
                <input type="text" ng-model="newFilterName" required>
                <button type="button" class="btn btn-primary btn-sm" ng-click="addNewFilter(newFilterName)"
                        ng-disabled="newFilterNameForm.$invalid">New Filter
                </button>
            </form>
        </div>


    </div>

    <div ng-controller="TranscriptsTableController" class="col-lg-8">
        <div class="table-wrapper">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th ng-repeat="header in columnsList track by $index">{{header.headerName}}</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="transcript in transcriptData | limitTo : tableLimit : tableBegin track by $index">

                    <td ng-repeat="header in columnsList track by $index">
                        {{transcript[header.fieldName.toString()]}}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="transcript-table-pagination">
            <ul uib-pagination total-items="transcriptData.length" ng-model="currentPage" max-size="10" items-per-page="tableLimit"
                class="pagination-sm" boundary-link-numbers="true" rotate="false" ng-change="pageChanged()"></ul>
        </div>
        <div class="spinner-background" ng-show="showSpinner">
            <div class="sk-cube-grid">
                <div class="sk-cube sk-cube1"></div>
                <div class="sk-cube sk-cube2"></div>
                <div class="sk-cube sk-cube3"></div>
                <div class="sk-cube sk-cube4"></div>
                <div class="sk-cube sk-cube5"></div>
                <div class="sk-cube sk-cube6"></div>
                <div class="sk-cube sk-cube7"></div>
                <div class="sk-cube sk-cube8"></div>
                <div class="sk-cube sk-cube9"></div>
            </div>
        </div>
    </div>
</div>
